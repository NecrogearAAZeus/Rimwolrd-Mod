<?xml version="1.0" encoding="UTF-8"?>
<Defs>

	<!-- Surrogate lung -->

	<HediffDef ParentName="addedPartSurrogate">
		<defName>SurrogateLung</defName>
		<label>prosthetic lung (debug)</label>
		<labelNoun>a prosthetic lung</labelNoun>
		<description>EPOE-Forked debug version to avoid losing body part in mid switch. Behaves identically to ABE version.</description>
		<descriptionHyperlinks><ThingDef>FSFSimpleProstheticLung</ThingDef></descriptionHyperlinks>
		<spawnThingOnRemoved>FSFSimpleProstheticLung</spawnThingOnRemoved>
		<preventsLungRot>true</preventsLungRot>
		<stages>
			<li>
				<makeImmuneTo>
					<li>LungRot</li>
				</makeImmuneTo>
			</li>
		</stages>
		<addedPartProps>
			<solid>true</solid>
			<partEfficiency>0.80</partEfficiency>
		</addedPartProps>
	</HediffDef>

	<ThingDef ParentName="EPIASurrogateBase" Abstract="True">
		<defName>SurrogateLung</defName>
		<label>surrogate lung</label>
		<description>A lung prosthesis. It contains an electric motor that expands and contracts the prosthesis for gas exchanges, simulating breathing. Users often report feeling tired, but it's better than the alternative.</description>
		<descriptionHyperlinks><RecipeDef>InstallSurrogateLung</RecipeDef></descriptionHyperlinks>
		<costList>
			<Steel>25</Steel>
			<ComponentIndustrial>4</ComponentIndustrial>
		</costList>
		<statBases>
			<Mass>2</Mass>
		</statBases>
	</ThingDef>

	<RecipeDef ParentName="SurgeryInstallBodyPartProstheticBase" Abstract="True">
		<defName>InstallSurrogateLung</defName>
		<label>install surrogate lung</label>
		<description>Installs surrogate lung.</description>
		<descriptionHyperlinks>
			<ThingDef>SurrogateLung</ThingDef>
			<HediffDef>SurrogateLung</HediffDef>
		</descriptionHyperlinks>
		<jobString>Installing surrogate lung.</jobString>
		<ingredients>
			<li>
				<filter>
					<thingDefs>
						<li>SurrogateLung</li>
					</thingDefs>
				</filter>
				<count>1</count>
			</li>
		</ingredients>
		<fixedIngredientFilter>
			<thingDefs>
				<li>SurrogateLung</li>
			</thingDefs>
		</fixedIngredientFilter>
		<appliedOnFixedBodyParts>
			<li>Lung</li>
		</appliedOnFixedBodyParts>
		<addsHediff>SurrogateLung</addsHediff>
		<uiIconThing>SurrogateLung</uiIconThing>
	</RecipeDef>

	<!-- Surrogate stomach -->

	<HediffDef ParentName="addedPartSurrogate">
		<defName>SurrogateStomach</defName>
		<label>prosthetic stomach (debug)</label>
		<labelNoun>a prosthetic stomach</labelNoun>
		<description>EPOE-Forked debug version to avoid losing body part in mid switch. Behaves identically to ABE version.</description>
		<descriptionHyperlinks><ThingDef>FSFSimpleProstheticStomach</ThingDef></descriptionHyperlinks>
		<spawnThingOnRemoved>FSFSimpleProstheticStomach</spawnThingOnRemoved>
		<stages>
			<li>
				<makeImmuneTo>
					<li>GutWorms</li>
				</makeImmuneTo>
			</li>
		</stages>
		<addedPartProps>
			<solid>true</solid>
			<partEfficiency>0.80</partEfficiency>
		</addedPartProps>
	</HediffDef>

	<ThingDef ParentName="EPIASurrogateBase" Abstract="True">
		<defName>SurrogateStomach</defName>
		<label>surrogate stomach</label>
		<description>A stomach prosthesis. It contains chemical synthesizers that can digest most foodstuff, the strength of them is limited as to not dissolve the prosthesis itself. It is rather inefficient at the job, but it is better than the alternative.</description>
		<descriptionHyperlinks><RecipeDef>InstallSurrogateStomach</RecipeDef></descriptionHyperlinks>
		<costList>
			<Steel>25</Steel>
			<ComponentIndustrial>4</ComponentIndustrial>
		</costList>
		<statBases>
			<Mass>2</Mass>
		</statBases>
	</ThingDef>

	<RecipeDef ParentName="SurgeryInstallBodyPartProstheticBase" Abstract="True">
		<defName>InstallSurrogateStomach</defName>
		<label>install surrogate stomach</label>
		<description>Installs a surrogate stomach.</description>
		<descriptionHyperlinks>
			<ThingDef>SurrogateStomach</ThingDef>
			<HediffDef>SurrogateStomach</HediffDef>
		</descriptionHyperlinks>
		<jobString>Installing surrogate stomach.</jobString>
		<ingredients>
			<li>
				<filter>
					<thingDefs>
						<li>SurrogateStomach</li>
					</thingDefs>
				</filter>
				<count>1</count>
			</li>
		</ingredients>
		<fixedIngredientFilter>
			<thingDefs>
				<li>SurrogateStomach</li>
			</thingDefs>
		</fixedIngredientFilter>
		<appliedOnFixedBodyParts>
			<li>Stomach</li>
		</appliedOnFixedBodyParts>
		<addsHediff>SurrogateStomach</addsHediff>
		<uiIconThing>SurrogateStomach</uiIconThing>
	</RecipeDef>

	<!-- Surrogate liver -->

	<HediffDef ParentName="addedPartSurrogate">
		<defName>SurrogateLiver</defName>
		<label>prosthetic liver (debug)</label>
		<labelNoun>a prosthetic liver</labelNoun>
		<description>EPOE-Forked debug version to avoid losing body part in mid switch. Behaves identically to ABE version.</description>
		<descriptionHyperlinks><ThingDef>FSFSimpleProstheticLiver</ThingDef></descriptionHyperlinks>
		<spawnThingOnRemoved>FSFSimpleProstheticLiver</spawnThingOnRemoved>
		<addedPartProps>
			<solid>true</solid>
			<partEfficiency>0.80</partEfficiency>
		</addedPartProps>
	</HediffDef>

	<ThingDef ParentName="EPIASurrogateBase" Abstract="True">
		<defName>SurrogateLiver</defName>
		<label>surrogate liver</label>
		<description>A liver prosthesis. It contains chemical synthesizers to imitate the liver's role in metabolism. Users often report feeling slightly unwell, but it's better than the alternative.</description>
		<descriptionHyperlinks><RecipeDef>InstallSurrogateLiver</RecipeDef></descriptionHyperlinks>
		<costList>
			<Steel>25</Steel>
			<ComponentIndustrial>4</ComponentIndustrial>
		</costList>
		<statBases>
			<Mass>2</Mass>
		</statBases>
	</ThingDef>

	<RecipeDef ParentName="SurgeryInstallBodyPartProstheticBase" Abstract="True">
		<defName>InstallSurrogateLiver</defName>
		<label>install surrogate liver</label>
		<description>Installs a surrogate liver.</description>
		<descriptionHyperlinks>
			<ThingDef>SurrogateLiver</ThingDef>
			<HediffDef>SurrogateLiver</HediffDef>
		</descriptionHyperlinks>
		<jobString>Installing surrogate liver.</jobString>
		<ingredients>
			<li>
				<filter>
					<thingDefs>
						<li>SurrogateLiver</li>
					</thingDefs>
				</filter>
				<count>1</count>
			</li>
		</ingredients>
		<fixedIngredientFilter>
			<thingDefs>
				<li>SurrogateLiver</li>
			</thingDefs>
		</fixedIngredientFilter>
		<appliedOnFixedBodyParts>
			<li>Liver</li>
		</appliedOnFixedBodyParts>
		<addsHediff>SurrogateLiver</addsHediff>
		<uiIconThing>SurrogateLiver</uiIconThing>
	</RecipeDef>

	<!-- Surrogate kidney -->

	<HediffDef ParentName="addedPartSurrogate">
		<defName>SurrogateKidney</defName>
		<label>prosthetic kidney (debug)</label>
		<labelNoun>a prosthetic kidney</labelNoun>
		<description>EPOE-Forked debug version to avoid losing body part in mid switch. Behaves identically to ABE version.</description>
		<descriptionHyperlinks><ThingDef>FSFSimpleProstheticKidney</ThingDef></descriptionHyperlinks>
		<spawnThingOnRemoved>FSFSimpleProstheticKidney</spawnThingOnRemoved>
		<addedPartProps>
			<solid>true</solid>
			<partEfficiency>0.80</partEfficiency>
		</addedPartProps>
	</HediffDef>

	<ThingDef ParentName="EPIASurrogateBase" Abstract="True">
		<defName>SurrogateKidney</defName>
		<label>surrogate kidney</label>
		<description>A kidney prosthesis. It contains artificial filters and removes waste products from the blood. Users often report feeling slightly unwell, but it's better than the alternative.</description>
		<descriptionHyperlinks><RecipeDef>InstallSurrogateKidney</RecipeDef></descriptionHyperlinks>
		<costList>
			<Steel>25</Steel>
			<ComponentIndustrial>4</ComponentIndustrial>
		</costList>
		<statBases>
			<Mass>2</Mass>
		</statBases>
	</ThingDef>

	<RecipeDef ParentName="SurgeryInstallBodyPartProstheticBase" Abstract="True">
		<defName>InstallSurrogateKidney</defName>
		<label>install surrogate kidney</label>
		<description>Installs a surrogate kidney.</description>
		<descriptionHyperlinks>
			<ThingDef>SurrogateKidney</ThingDef>
			<HediffDef>SurrogateKidney</HediffDef>
		</descriptionHyperlinks>
		<jobString>Installing surrogate kidney.</jobString>
		<ingredients>
			<li>
				<filter>
					<thingDefs>
						<li>SurrogateKidney</li>
					</thingDefs>
				</filter>
				<count>1</count>
			</li>
		</ingredients>
		<fixedIngredientFilter>
			<thingDefs>
				<li>SurrogateKidney</li>
			</thingDefs>
		</fixedIngredientFilter>
		<appliedOnFixedBodyParts>
			<li>Kidney</li>
		</appliedOnFixedBodyParts>
		<addsHediff>SurrogateKidney</addsHediff>
		<uiIconThing>SurrogateKidney</uiIconThing>
	</RecipeDef>

	<!-- Brain stimulator -->

	<HediffDef ParentName="addedPartSurrogate">
		<defName>BrainStimulator</defName>
		<label>brain stimulator</label>
		<description>An installed brain stimulator. A small device that does its best to stimulate the remaining areas of the brain. Recommended for severe brain damage only.</description>
		<descriptionHyperlinks><ThingDef>BrainStimulator</ThingDef></descriptionHyperlinks>
		<spawnThingOnRemoved>BrainStimulator</spawnThingOnRemoved>
		<hediffClass>Hediff_Implant</hediffClass>
		<stages>
			<li>
				<partIgnoreMissingHP>true</partIgnoreMissingHP>
				<partEfficiencyOffset>0.10</partEfficiencyOffset>
				<capMods>
					<li>
						<capacity>Consciousness</capacity>
						<setMax>0.9</setMax>
					</li>
				</capMods>
			</li>
		</stages>
	</HediffDef>

	<ThingDef ParentName="EPIASurrogateBase">
		<defName>BrainStimulator</defName>
		<label>brain stimulator</label>
		<description>A small device that does its best to stimulate the remaining areas of the brain. Recommended for severe brain damage only. Requires brain surgery research before installing.</description>
		<descriptionHyperlinks><RecipeDef>InstallBrainStimulator</RecipeDef></descriptionHyperlinks>
		<costList>
			<Neutroamine>10</Neutroamine>
			<Silver>2</Silver>
			<Steel>25</Steel>
			<ComponentIndustrial>4</ComponentIndustrial>
		</costList>
		<butcherProducts>
			<Neutroamine>10</Neutroamine>
			<Silver>2</Silver>
			<Steel>25</Steel>
			<ComponentIndustrial>4</ComponentIndustrial>
		</butcherProducts>
		<statBases>
			<Mass>0.1</Mass>
			<WorkToMake>12000</WorkToMake>
		</statBases>
		<techHediffsTags Inherit="False"></techHediffsTags>
	</ThingDef>

	<RecipeDef ParentName="SurgeryInstallImplantBase">
		<defName>InstallBrainStimulator</defName>
		<label>install brain stimulator</label>
		<description>Installs brain stimulator.</description>
		<descriptionHyperlinks>
			<ThingDef>BrainStimulator</ThingDef>
			<HediffDef>BrainStimulator</HediffDef>
		</descriptionHyperlinks>
		<workerClass>Recipe_InstallImplant</workerClass>
		<jobString>Installing brain stimulator.</jobString>
		<workAmount>3700</workAmount>
		<deathOnFailedSurgeryChance>0.10</deathOnFailedSurgeryChance>
		<skillRequirements>
			<Medicine>7</Medicine>
		</skillRequirements>
		<ingredients Inherit="False">
			<li>
				<filter>
					<categories>
						<li>Medicine</li>
					</categories>
				</filter>
				<count>5</count>
			</li>
			<li>
				<filter>
					<thingDefs>
						<li>BrainStimulator</li>
					</thingDefs>
				</filter>
				<count>1</count>
			</li>
		</ingredients>
		<fixedIngredientFilter>
			<thingDefs>
				<li>BrainStimulator</li>
			</thingDefs>
		</fixedIngredientFilter>
		<appliedOnFixedBodyParts>
			<li>Brain</li>
		</appliedOnFixedBodyParts>
		<addsHediff>BrainStimulator</addsHediff>
		<uiIconThing>BrainStimulator</uiIconThing>
		<researchPrerequisite>BrainSurgery</researchPrerequisite>
	</RecipeDef>

	<RecipeDef ParentName="SurgeryRemoveImplantBase">
		<defName>RemoveBrainStimulator</defName>
		<label>remove brain stimulator</label>
		<description>Removes brain stimulator.</description>
		<descriptionHyperlinks>
			<ThingDef>BrainStimulator</ThingDef>
			<HediffDef>BrainStimulator</HediffDef>
		</descriptionHyperlinks>
		<jobString>Removing brain stimulator.</jobString>
		<successfullyRemovedHediffMessage>{0} has successfully removed {1}'s brain stimulator.</successfullyRemovedHediffMessage>
		<workAmount>3700</workAmount>
		<removesHediff>BrainStimulator</removesHediff>
		<deathOnFailedSurgeryChance>0.1</deathOnFailedSurgeryChance>
		<skillRequirements>
			<Medicine>7</Medicine>
		</skillRequirements>
		<ingredients Inherit="False">
			<li>
				<filter>
					<categories>
						<li>Medicine</li>
					</categories>
				</filter>
				<count>5</count>
			</li>
		</ingredients>
		<fixedIngredientFilter>
			<disallowedThingDefs>
				<li>MedicineHerbal</li>
			</disallowedThingDefs>
		</fixedIngredientFilter>
		<researchPrerequisite>BrainSurgery</researchPrerequisite>
	</RecipeDef>

</Defs>